server {
	server_name		destination-finale.fr;
	listen			8080;
	root			./www;
	index			index.html;

	error_page		400 ./www/error_pages/400.html;
	error_page		403 ./www/error_pages/403.html;
	error_page		404 ./www/error_pages/404.html;
	error_page		418 ./www/error_pages/418.html;
	error_page		500 ./www/error_pages/500.html;
	error_page		503 ./www/error_pages/503.html;

	location /cafesvp {
		return 418;
	}

	location /kapouet/ {
		root	/tmp/www;
		index	test_index.html;
	}

	location /error_pages {
		index			index_err.html;
		autoindex		on;
		allowed_methods	GET HEAD;
	}

	location /uploads {
		upload_allowed			/uploads;
		autoindex				on;
		allowed_methods			GET HEAD POST DELETE;
		client_max_body_size	1G;
	}

	location /api {
		return 403;
	}
}

server {
	server_name		second;
	listen			9090;
	root			./www;
	index			old_index.html;

	location /cgi-bin {
		cgi	.py .sh .php;
		allowed_methods		GET POST;
	}

	location /42 {
		return 301 https://letmegooglethat.com/?q=comment+ne+pas+se+faire+blackhole;
	}

	location /forms {
		index contact_form.html;
	}

	location /cgi-bin/python/venv {
		return 403; 
	}
}

server {
	server_name		third;
	listen			9999;
	root			./www;
	error_page		503 ./www/error_pages/503.html;

	location / {
		return 503;
	}
}